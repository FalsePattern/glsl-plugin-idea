float tc_max = min(2.0, 2.0);